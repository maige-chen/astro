---
layout: ../../layout/Markdown.astro
title: "base64 编码"
---

# base64 编码 [RFC2045~2049](https://www.rfc-editor.org/info/rfc2045)

- Base64就是一种基于64个可打印字符来表示二进制数据的方法
- 每三个8Bit的字节转换为四个6Bit,高位补0
- 每76个字符加一个换行符。
- 最后的结束符也要处理。

## 1. 最简单的例子

| 过程  | 二进制/字符                       |
|-------|-----------------------------------|
|转换前 |11111111 11111111 1111111          |
|拆字节 |111111 111111 111111 111111        |
|补0    |00111111 00111111 00111111 00111111|
|字符   |   /        /        /        /    |

## 2. 伪代码

- 1). char[0] >> 2,右移2位获得第一个目标字符的Base64表位置
- 2.1). (char[0] & 0x03(00000011)) << 4, 得到 xx0000
- 2.2). char[1] >> 4， 得到 00xxxx
- 2.3). xx0000 | 00xxxx 得到 00xx xxxx 即第2个目标字符
- 3.1). char[1] & 0x0f(00001111) <<2, 得到xxxx00
- 3.2). char[2] >> 6, 得到 0000xx
- 3.3). xxxx00 | 00xxxx 得到 00xx xxxx 即第3个目标字符
- 4). char[2] & 0x3f(00111111), 即第4个目标字符
